<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="../../plugins/element-ui/index.css" />
    <link rel="stylesheet" href="/front/styles/front.css" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0">
</head>
<body>
    <div id="app" class="div1" >
        <div class="div2">
        <div style="text-align: center;font-family: 华文黑体; font-size: 25px; margin-bottom: 20px;">脆脆鲨奶茶</div>
        <el-form :model="loginForm">
            <el-form-item prop>
                <el-input v-model="loginForm.userName" type="text" placeholder="用户名"></el-input>
            </el-form-item>
            <el-form-item>
                <el-input v-model="loginForm.password" type="password" placeholder="密码"></el-input>
            </el-form-item>
        </el-form>
        <div style="text-align: center">
        <el-button type="primary" @click="userLogin(loginForm)">登录</el-button>
        </div>
        </div>
    </div>

    <script src="../../plugins/vue/vue.js"></script>
    <!-- 引入组件库 -->
    <script src="../../plugins/element-ui/index.js"></script>
    <!-- 引入axios -->
    <script src="../../plugins/axios/axios.min.js"></script>
    <script src="../../js/request.js"></script>
    <script src="../../api/login.js"></script>

    <script>
        new Vue({
            el: '#app',
            data(){
                return{
                    loginForm: {
                        userName: '',
                        password: ''
                    }
                }
            },
            methods: {
                userLogin(form){
                    login(form).then(res=>{
                        if(res.data.code === 1){
                            localStorage.setItem('user',JSON.stringify(res.data.data))
                            window.location.href = '/front/index.html'
                        }
                        else{
                            this.$message.error(res.data.msg);
                        }
                    })
                }
            }
        })
    </script>
</body>
</html>